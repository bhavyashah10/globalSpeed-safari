(()=>{"use strict";var e={5739:(e,t,i)=>{i.d(t,{$:()=>r});const r=globalThis.gvar??{}}},t={};function i(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,i),n.exports}function r(e,t,i){return e+i*(t-e)}function s(e){let t=document.createElement("div");return t.innerHTML=e,t.children[0]}function n(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.innerHTML=e.trim(),t.firstElementChild}i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(5739).$;var o=i(5739).$,a=function(e){return e[e.X_LEFT=1]="X_LEFT",e[e.X_RIGHT=2]="X_RIGHT",e[e.Y_TOP=3]="Y_TOP",e[e.Y_BOTTOM=4]="Y_BOTTOM",e[e.MOVING=5]="MOVING",e}(a||{});class l{width=500;height=350;x=(window.innerWidth-this.width)/2+window.scrollX;y=(window.innerHeight-this.height)/2+window.scrollY;constructor(e){this.div=e,this.div.addEventListener("pointerdown",this.handlePointerDown),this.sync()}release=()=>{this.handlePointerUp(),this.div.remove(),this.div.removeEventListener("pointerdown",this.handlePointerDown)};handlePointerDown=e=>{if(0!==e.button)return;if(e.stopImmediatePropagation(),this.ref)return void this.handlePointerUp();const t=new Set;e.offsetX<20?t.add(a.X_LEFT):this.width-e.offsetX<20&&t.add(a.X_RIGHT),e.offsetY<20?t.add(a.Y_TOP):this.height-e.offsetY<20&&t.add(a.Y_BOTTOM),0===t.size&&t.add(a.MOVING),this.ref={x:this.x,y:this.y,width:this.width,height:this.height,cursorX:e.pageX,cursorY:e.pageY,transforms:t},window.addEventListener("pointermove",this.handlePointerMove,{capture:!0,passive:!0}),o.os.eListen.pointerUpCbs.add(this.handlePointerUp)};handlePointerUp=()=>{delete this.ref,window.removeEventListener("pointermove",this.handlePointerMove,!0),o.os.eListen.pointerUpCbs.delete(this.handlePointerUp)};handlePointerMove=e=>{if(!this.ref)return void this.handlePointerUp();var t={x:this.x,y:this.y,width:this.width,height:this.height};const i=e.pageX-this.ref.cursorX,r=e.pageY-this.ref.cursorY;this.ref.transforms.has(a.X_LEFT)?(t.width=Math.max(this.ref.width-i,60),t.x=this.ref.x-(t.width-this.ref.width)):this.ref.transforms.has(a.X_RIGHT)&&(t.width=this.ref.width+i),this.ref.transforms.has(a.Y_TOP)?(t.height=Math.max(this.ref.height-r,60),t.y=this.ref.y-(t.height-this.ref.height)):this.ref.transforms.has(a.Y_BOTTOM)&&(t.height=this.ref.height+(e.pageY-this.ref.cursorY)),this.ref.transforms.has(a.MOVING)&&(t.x=this.ref.x+i,t.y=this.ref.y+r),this.width=Math.max(60,t.width),this.height=Math.max(60,t.height),this.x=t.x,this.y=t.y,this.sync()};sync(){this.div.style.width=`${this.width}px`,this.div.style.height=`${this.height}px`,this.div.style.position="absolute",this.div.style.left=`${this.x}px`,this.div.style.top=`${this.y}px`,this.div.style.zIndex="99999999999",this.div.style.userSelect="none"}}const d={sepia:{ref:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:0,itcStep:.5,wrappable:!0},format:e=>`sepia(${e})`},hueRotate:{ref:{step:8,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,itcStep:180},format:e=>`hue-rotate(${e}deg)`},grayscale:{ref:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:0,itcStep:.5,wrappable:!0},format:e=>`grayscale(${e})`},contrast:{ref:{min:0,step:.1,sliderMin:0,sliderMax:5,default:1,itcStep:2.5},format:e=>`contrast(${e})`},brightness:{ref:{min:0,step:.1,sliderMin:0,sliderMax:5,sliderStep:.05,default:1,itcStep:2.5},format:e=>`brightness(${e})`},saturate:{ref:{min:0,step:.1,sliderMin:0,sliderMax:5,sliderStep:.05,default:1,itcStep:2.5},format:e=>`saturate(${e})`},invert:{ref:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:0,itcStep:.5,wrappable:!0},format:e=>`invert(${e})`},blur:{ref:{min:0,step:.1,sliderMin:0,sliderMax:10,sliderStep:.1,default:0,itcStep:5},format:e=>`blur(${e}px)`},opacity:{ref:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:1,itcStep:.5,wrappable:!0},format:e=>`opacity(${e})`},scaleX:{isTransform:!0,ref:{step:.1,sliderMin:-1,sliderMax:3,sliderStep:.04,default:1,itcStep:2},format:e=>`scaleX(${e})`},scaleY:{isTransform:!0,ref:{step:.1,sliderMin:-1,sliderMax:3,sliderStep:.04,default:1,itcStep:2},format:e=>`scaleY(${e})`},translateX:{isTransform:!0,ref:{step:1,sliderMin:-300,sliderMax:300,sliderStep:5,default:0,itcStep:300},format:e=>`translateX(${e}px)`},translateY:{isTransform:!0,ref:{step:1,sliderMin:-300,sliderMax:300,sliderStep:5,default:0,itcStep:300},format:e=>`translateY(${e}px)`},rotateX:{isTransform:!0,ref:{step:1,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,itcStep:180},format:e=>`rotateX(${e}deg)`},rotateY:{isTransform:!0,ref:{step:1,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,itcStep:180},format:e=>`rotateY(${e}deg)`},rotateZ:{isTransform:!0,ref:{step:1,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,itcStep:180},format:e=>`rotateZ(${e}deg)`}};function h(e,t){return!t||t(e)}const p={mosaic:{format:e=>{const t=e.mosaic;let i=Math.round(2*t.blockX-1),s=Math.round(2*t.blockY-1),n=Math.round(r(1,i,t.sampleNormalX));n%2==0&&(n=Math.round(n+1));let o=Math.round(r(1,s,t.sampleNormalY));o%2==0&&(o=Math.round(o+1));const a=Math.round((i-n)/2),l=Math.round((s-o)/2);return c(`<feFlood flood-color="red" x="0" y="0" width="${n}" height="${o}"/> <feComposite width="${i}" height="${s}"/><feTile result="a"/><feComposite in="SourceGraphic" in2="a" operator="in"/><feMorphology operator="dilate" radius="${Math.round(a*t.scalingNormalX)} ${Math.round(l*t.scalingNormalY)}"></feMorphology>`)}},custom:{format:e=>e.text},colorMatrix:{format:e=>{const t=Array(20).fill(0);for(let i=0;i<3;i++)t[5*i+0]=e.colorMatrix[4*i+0],t[5*i+1]=e.colorMatrix[4*i+1],t[5*i+2]=e.colorMatrix[4*i+2],t[5*i+4]=e.colorMatrix[4*i+3];return t[18]=1,c(`<feColorMatrix type="matrix" values="${t.map((e=>e.toFixed(3))).join(" ")}"/>`)}},rgb:{format:e=>{const t=Array(20).fill(0);for(let i=0;i<3;i++)t[5*i+i]=e.rgb[i];return t[18]=1,c(`<feColorMatrix type="matrix" values="${t.map((e=>e.toFixed(3))).join(" ")}"/>`)},isValid:e=>e.rgb&&(1!==e.rgb[0]||1!==e.rgb[1]||1!==e.rgb[2])},posterize:{format:e=>{if(!e.posterize)return;const t=Math.round(e.posterize-1),i=Array(t).fill(0).map(((e,i)=>(i/t).toFixed(4)));i.push("1.0");const r=i.join(" ");return c(`<feComponentTransfer>\n               <feFuncR type="discrete" tableValues="${r}"/>\n               <feFuncG type="discrete" tableValues="${r}"/>\n               <feFuncB type="discrete" tableValues="${r}"/>\n            </feComponentTransfer>`)}},blur:{format:e=>c(`<feGaussianBlur stdDeviation="${e.blur.x} ${e.blur.y}"/ >`),isValid:e=>e.blur.x>0||e.blur.y>0},sharpen:{format:e=>{if(!e.sharpen)return;const t=`-${e.sharpen.toFixed(2)}`;return c(`<feConvolveMatrix order="3" kernelMatrix="0 ${t} 0 ${t} ${(1+4*e.sharpen).toFixed(6)} ${t} 0 ${t} 0" edgeMode="duplicate" preserveAlpha="true"/>`)},isValid:e=>e.sharpen>0},noise:{format:e=>{if(e.noise)return c(`<feTurbulence id="turb" type="fractalNoise" baseFrequency="${1-e.noise.size}" numOctaves="1" seed="0" result="n">\n\t         <animate attributeName="seed" values="${Array(25).fill(0).map(((e,t)=>t)).join(";")}" dur="${1/e.noise.speed}s" repeatCount="indefinite"/>\n         </feTurbulence>\n\t      <feColorMatrix type="saturate" values="0" in="n" result="gn"/>\n\t      <feBlend in="SourceGraphic" in2="gn" mode="${e.noise.mode||"hard-light"}"/>`)},isValid:e=>e.noise&&0!==e.noise.speed&&e.noise.size%1!=0},motion:{format:e=>{const t=e.motion;let i=1/t.speed,r=[];return 0!==t.x&&r.push(`<animate attributeName="dx" values="-${t.x};${t.x};-${t.x}" dur="${i}s" repeatCount="indefinite"/>`),0!==t.y&&r.push(`<animate attributeName="dy" values="-${t.y};${t.y};-${t.y}" dur="${i}s" repeatCount="indefinite"/>`),c(`<feOffset dx="0" dy="0">${r.join("")}</feOffset>`)},isValid:e=>e.motion&&e.motion.speed>0&&(e.motion.x>0||e.motion.y>0)},special:{format:e=>c(e.text),isValid:e=>!!e.text}};function c(e){return`<filter x="0%" y="0%" width="100%" height="100%">${e}</filter>`}function f(e,t,i,r,s,o){if(!e||!t||!(i||r||function(e){if(e?.filter((e=>{if(e.enabled)return!!h(e,p[e.type].isValid)||void 0})).length)return!0}(o)))return null;let a,l,d,c=[];if(r&&(c.push(`transform: ${r} !important`),s&&c.push(`transform-origin: ${s} !important`)),o?.length)try{let e=o.map((e=>{const t=p[e.type];if(!e.enabled||!h(e,t.isValid))return;let i=`svg_${Math.ceil(1e10*Math.random()).toString()}`;const r=t.format(e);if(!r)return;let s=n(r);return s.id=i,{filterElement:s,id:i}})).filter((e=>e));l=e.map((e=>`url(#${e.id})`)).join(" "),a=e.map((e=>e.filterElement))}catch{l=a=null}(i||l)&&(d=`${i||""} ${l||""}`,c.push(`filter: ${d} !important`));const f=`:is(${t}, #proooof > #essi > #onal) {${c.join(";")}}`,u=document.createElement("style");let m;return u.innerHTML=f,a?.length&&(m=n('<svg width="0" height="0" style="position:fixed;left:-9999px;top:-9999px" aria-hidden="true"></svg>'),a.forEach((e=>{m.appendChild(e)}))),{styleString:f,styleTemplate:u,svg:m,filterValue:d}}i(5739).$,i(5739).$;var u=i(5739).$;class m{div=document.createElement("div");innerDiv=document.createElement("div");sDiv=new l(this.div);hasBorder=!0;constructor(e,t,i=!1){this.filters=e,this.svgFilters=t,this.styleInfo=f(!0,"v",function(e){let t=[];return e?.forEach((e=>{const i=d[e.name];null!=e.value&&e.value!==i.ref.default&&t.push(i.format(e.value))})),t.join(" ")}(e||[]),"","center",t||[]),this.styleInfo.svg&&this.div.appendChild(this.styleInfo.svg),this.innerDiv.classList.add("inner"),this.div.appendChild(this.innerDiv),this.div.classList.add("pane"),m.addPane(this),m.shadowRoot?.append(this.div),this.div.tabIndex=0,this.div.addEventListener("contextmenu",(e=>{e.preventDefault(),e.stopImmediatePropagation(),this.release()}),{once:!0});const r={clone:s('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"></path></svg>'),times:s('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 352 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>'),paintRoller:s('<label for="colorInput">\n      <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 128V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v96c0 17.67 14.33 32 32 32h352c17.67 0 32-14.33 32-32zm32-64v128c0 17.67-14.33 32-32 32H256c-35.35 0-64 28.65-64 64v32c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32v-32h160c53.02 0 96-42.98 96-96v-64c0-35.35-28.65-64-64-64z"></path></svg>\n      <input type="color" id="colorInput">\n    </label>'),borderAll:s('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H32A32 32 0 0 0 0 64v384a32 32 0 0 0 32 32h384a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 64v128H256V96zm-192 0v128H64V96zM64 416V288h128v128zm192 0V288h128v128z"></path></svg>')},n=document.createElement("div");this.div.appendChild(n),n.classList.add("menu"),n.appendChild(r.clone),n.appendChild(r.paintRoller),n.appendChild(r.borderAll),n.appendChild(r.times),r.clone.addEventListener("click",(e=>{m.clone(this).div.focus()})),r.paintRoller.querySelector("#colorInput").addEventListener("input",(e=>{this.color=e.target.value,this.sync()})),r.paintRoller.addEventListener("click",(e=>{this.color&&(delete this.color,this.sync(),e.preventDefault())})),r.borderAll.addEventListener("click",(e=>{this.hasBorder=!this.hasBorder,this.sync()})),r.times.addEventListener("click",(e=>{this.release()})),this.sync()}release=()=>{delete this.div,this.sDiv?.release(),delete this.sDiv,this.styleInfo?.svg?.remove(),m.deletePane(this)};sync=()=>{this.hasBorder?(this.div.style.border="1px solid black",this.div.classList.add("hasBorder")):(this.div.style.border="none",this.div.classList.remove("hasBorder")),this.color?(this.innerDiv.style.backgroundColor=this.color,this.innerDiv.style.backdropFilter="none"):(this.innerDiv.style.backdropFilter=this.styleInfo.filterValue||"",this.innerDiv.style.backgroundColor="transparent")};static panes=new Set;static addPane=e=>{if(m.panes.add(e),m.panes.size&&!m.shadowRoot){m.shadowRoot=document.createElement("div").attachShadow({mode:"closed"});const e=document.createElement("style");e.textContent='\n.pane:focus { outline: none; }\n.pane.hasBorder:focus { outline: 2px solid black; }\n\n.menu {\n    position: absolute;\n    right: 3px;\n    top: 3px;\n    opacity: 0;\n    display: grid;\n    pointer-events: none;\n    grid-auto-flow: column;\n    justify-content: right;\n    grid-column-gap: 5px;\n    font-size: 16px;\n    transition: opacity 0.1s ease-out;\n}\n\n.inner {\n    width: 100%;\n    height: 100%;\n}\n\n.pane:focus > .menu, .pane:hover > .menu {\n    opacity: 1;\n    pointer-events: initial;\n}\n\nsvg {\n    opacity: 0.5;\n    background-color: black;\n    color: white;\n    padding: 5px;\n}\n\nsvg:hover {\n    opacity: 1;\n}\n\ninput[type="color"] {\n    position: absolute;\n    pointer-events: none;\n    opacity: 0;\n    width: 0px;\n    height: 0px;\n}',m.shadowRoot.appendChild(e),document.body.appendChild(m.shadowRoot.host)}};static deletePane=e=>{m.panes.delete(e),0===m.panes.size&&m.shadowRoot&&(m.shadowRoot.host.remove(),delete m.shadowRoot)};static clone=e=>{const t=new m(e.filters,e.svgFilters,!0);return t.color=e.color,t.sDiv.x=e.sDiv.x+20,t.sDiv.y=e.sDiv.y+20,t.sDiv.width=e.sDiv.width,t.sDiv.height=e.sDiv.height,t.sDiv.sync(),t.hasBorder=e.hasBorder,t.sync(),t}}u.Pane=m})();